

<!DOCTYPE html>
<html>

<head>
  <title>Blood Invaders</title>
  <!--CDN links for jquery-->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <!--CDN links for TweenLite, CSSPlugin, and EasePack-->
  <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/plugins/CSSPlugin.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/easing/EasePack.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.0/TweenLite.min.js"></script>
</head>

<!--style = "background-image: url(WBC1.gif);"-->
<body>

<h1 id="bodytitel">Blood Invaders</h1>


<div id="speelveld" style="background-image: url(achtergrond.jpg);" >

<div id="witblo" >
<img src="WBC1.gif"  style="max-width:100%;max-height:100%;">
</div>

<div id="virus" >
<img src="virus.gif"  style="max-width:100%;max-height:100%;">
</div>

</div>


<div id= "controldiv">

<button  id ="but1" onclick="WBComhoog()">
  <img src="pijlboven.png"  style="max-width:100%;max-height:100%;">
</button>

<button id ="but2" onclick="WBComlaag()">
<img src="pijlonder.png"  style="max-width:100%;max-height:100%;">
</button>

<button id = "but3" onclick="WBCnaarrechts()">
<img src="pijlrechts.png"  style="max-width:100%;max-height:100%;">
</button>

<button id ="but4" onclick="WBCnaarlinks()">
<img src="pijllinks.png"  style="max-width:100%;max-height:100%;">
</button>

</div>

<div id ="intro">
  <p> Welcome to Blood Invaders !</p>
  <br></br>
  <p><b>Jou doel :</b></p>
  <p> Dood het virus door de witte</p>
  <p> bloedcel het te helpen vinden !</p>
  <br></br>
  <p><b>Controls:</b></p>
  <p> Bestuur de witte bloedcel d.m.v.</p>
  <p> pijltjestoetsen of de buttons</p>
  <p> </p>
</div>

<div id ="scoreTrivia">
  <p>Killing your first virus might trigger something!</p>
</div>


<p>Colliding? <span id="result">false</span>


</body>
</html>


<script>

var totalkills = 0 ;
var LoginTijd = Date.now();


// autochecker voor collisions tussen virus en witte bloedcel
function collision($div1, $div2) {
  var x1 = $div1.offset().left;
  var y1 = $div1.offset().top;
  var h1 = $div1.outerHeight(true);
  var w1 = $div1.outerWidth(true);
  var b1 = y1 + h1;
  var r1 = x1 + w1;
  var x2 = $div2.offset().left;
  var y2 = $div2.offset().top;
  var h2 = $div2.outerHeight(true);
  var w2 = $div2.outerWidth(true);
  var b2 = y2 + h2;
  var r2 = x2 + w2;

  if (b1 < y2 || y1 > b2 || r1 < x2 || x1 > r2){
    return false;
  }
  else {

  var newVirusHeight = Math.floor(Math.random() *  270);
  var newVirusWidth = Math.floor(Math.random()* 420);


		var left = $("#virus").offset().left;
		if (left < 430)
		{
		TweenLite.to("#virus", 0.25, {left:newVirusWidth, ease:Power2.easeInOut});
		TweenLite.to("#virus", 0.25, {top:newVirusHeight, ease:Power2.easeInOut});
		}

      totalkills = totalkills +1;

    var huidigeTijd = Date.now();
    var speeltijd = (huidigeTijd - LoginTijd);
    var seconden  = Math.floor(speeltijd/1000);


    $( "#scoreTrivia" ).html( "<p><b>You have killed a total of "+totalkills+" virusses</b></p>" );

    if (totalkills > 9)
    {
      $( "#scoreTrivia").append("<p id='doubleDigits'> Double Digits!!!!!</p>");
    }
    $( "#scoreTrivia").append("<br></br>");
    $( "#scoreTrivia").append("<b>You have been killing virusses for:</b>");
    $( "#scoreTrivia").append("<br></br>");

    if (seconden > 59)  {
        if (seconden > 119)  {

            var minuten = Math.floor(seconden / 60);
            seconden = seconden - (minuten*60);
            $( "#scoreTrivia").append("<b>"+minuten+" minuten en "+seconden+" seconden</b>");

        }
        else {

            var minuten = Math.floor(seconden / 60);
            seconden = seconden - (minuten*60);
            $( "#scoreTrivia").append("<b>"+minuten+" minuut en "+seconden+" seconden</b>");

        }
    }
    else {

          $( "#scoreTrivia").append("<b>"+seconden+" seconden</b>");
    }

	   return true;
       }
}







// AI voor virusbewegingen
function VirusAI() {
var richtingVirus = Math.floor(Math.random()*5);

if (richtingVirus==1){

  var top = $("#virus").offset().top;
  if (top > 60)
  {
  TweenLite.to("#virus", 0.2, {top:"-=35px", ease:Power2.easeInOut});
  }

}
else if (richtingVirus== 2) {

  var top = $("#virus").offset().top;
  if (top <265)
  {
  TweenLite.to("#virus", 0.2, {top:"+=35", ease:Power2.easeInOut});
  }

}
else if (richtingVirus==3) {

  var left = $("#virus").offset().left;
  if (left > 45)
  {
  TweenLite.to("#virus",0.2, {left:"-=35", ease:Power2.easeInOut});
  }

}
else{

  var left = $("#virus").offset().left;
  if (left < 430)
  {
  TweenLite.to("#virus", 0.25, {left:"+=35", ease:Power2.easeInOut});
  }
}
}

window.setInterval(function() {
$('#result').text(collision($('#witblo'), $('#virus')));
}, 200);


window.setInterval(function(){
  VirusAI() },200);










 // Bewegingscontrollers voor witte bloedcel
function WBComhoog() {
var top = $("#witblo").offset().top;
if (top > 60)
{
  TweenLite.to("#witblo", 0.25, {top:"-=35px", ease:Power2.easeInOut});
}
}

function WBComlaag() {
var top = $("#witblo").offset().top;
if (top <265)
{
TweenLite.to("#witblo", 0.25, {top:"+=35", ease:Power2.easeInOut});
}
}

function WBCnaarlinks() {
var left = $("#witblo").offset().left;
if (left > 45)
{
TweenLite.to("#witblo", 0.25, {left:"-=35", ease:Power2.easeInOut});
}
}

function WBCnaarrechts() {
var left = $("#witblo").offset().left;
if (left < 430)
{
TweenLite.to("#witblo", 0.25, {left:"+=35", ease:Power2.easeInOut});
}
}

 // Arrow keys added for keyboard fans
 $(document).keydown(function(e) {
    switch(e.which) {
        case 37: // naarlinks
        WBCnaarlinks();
        break;

        case 38: // naarboven
        WBComhoog();
        break;

        case 39: // naarrechts
        WBCnaarrechts();
        break;

        case 40: //naaronder
        WBComlaag();
        break;

        default: return; // exit this handler for other keys
    }
    e.preventDefault(); // prevent the default action (scroll / move caret)
});
</script>
<style>

#doubleDigits{
  text-decoration: underline;
  font-size: 20px;
  font-family: Impact;
}

#intro{
  position: absolute;
  left: 630px;
  top: 90px;

}

#bodytitel{
    position: absolute;
    left: 650px;

}

#scoreTrivia{
    position: absolute;
    left: 930px;
    top: 152px;

}

#virus{
    left: 100px;
    top: 61px;
    position: absolute;
    font-size: 50px;
    width: 40px;
    height: 60px;
	}

#controldiv{

}

#controldiv > button {

    position: absolute;
    font-size: 20px;
    width: 100px;
    height: 100px;
}

#but1 {
    left : 200px;
}

#but2 {
    left: 200px;
    top: 540px;
}

#but3 {
    top: 440px;
    left: 300px;
}

#but4 {
    top: 440px;
    left: 100px;
}


#speelveld {
    width: 477px;
    height: 300px;
    background-color: red;
    display: inline-block;
}

#witblo{
    top: 250px;
    left: 400px;
    position: absolute;
    font-size: 50px;
    width: 60px;
    height: 60px;
}


body {
    padding: 30px;
    background-color: white;
    color: #444;
    font-family: Arial, sans-serif;
}

h1 {
    font-size: 24px;
    margin-bottom: 20px;

}

#area{
    border: 2px solid gray;
    width: 500px;
    height: 400px;
    position: relative;
}

p {
    margin: 5px 0;
}

</style>
